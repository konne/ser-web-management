<!-- display license page to edit or show detailed informations -->
<ng-template #licenseTemplate>
    <div class="qmc-page--content-body">

        <div class="license-block" #licenseInfo>
            <div class="header qmc-page--content-header">
                <i class="ser-icon ser-icon--license"></i>
                <span>License informations</span>
            </div>
            <app-license-info></app-license-info>
        </div>

        <div class="license-block" #licenseOverview>
            <div class="header qmc-page--content-header">
                <i class="ser-icon ser-icon--license"></i>
                <span>License Overview</span>
            </div>
            <app-license-overview></app-license-overview>
        </div>

        <div class="license-block" #licensedUsers>
            <div class="header qmc-page--content-header">
                <i class="ser-icon ser-icon--license"></i>
                <span>Licensed Users</span>
            </div>
            <app-license-user></app-license-user>
        </div>
    </div>

    <div class="qmc-page--content-footer">
        <button class="btn btn-primary" (click)="saveLicense()" >
            apply
        </button>
    </div>
</ng-template>

<!-- if installation is invalid display error page -->
<ng-template #errorTemplate>
    <div class="qmc-page--content-body">
        <app-license-error [progress]="installationProgress"></app-license-error>
    </div>

    <div class="qmc-page--content-footer">
        <button class="btn btn-primary" (click)="reload()">
            reload
        </button>
    </div>
</ng-template>

<!-- @todo rework template to handle reloading and only refresh current contents -->
<div class="qmc-page qmc-page--edit" *ngIf="ready">

    <div class="qmc-page--sidebar sidebar-left">

        <div class="header sidebar-content">
            <a (click)="navigateBack()">
                <i class="lui-icon lui-icon--arrow-up"></i>
                <span>Start</span>
            </a>
        </div>

        <ul class="lui-list">
            <li class="lui-item">
                License
            </li>
        </ul>
    </div>

    <div class="qmc-page--content">

        <div class="header qmc-page--content-header">
            <i class="ser-icon ser-icon--license"></i>
            <span>License Installation</span>
        </div>

        <ng-container *ngIf="ready">
            <ng-container *ngTemplateOutlet="isInstallationInvalid?errorTemplate:licenseTemplate">
            </ng-container>
        </ng-container>

        <ng-container *ngIf="!ready">
            <div class="qmc-page--content-body">
            </div>
            <div class="qmc-page--content-footer">
                <button class="btn btn-primary">
                    reload
                </button>
            </div>
        </ng-container>
    </div>

    <div class="qmc-page--sidebar sidebar-right">
            <div class="header">
                Properties
            </div>

            <ul class="lui-list">
                <li class="lui-item" 
                    (click)="showPagePart(property, property.part)"
                    *ngFor="let property of properties"
                    [ngClass]="{'active': property == selectedProperty}" >
                    {{property.label}}
                </li>
            </ul>
    </div>
</div>
