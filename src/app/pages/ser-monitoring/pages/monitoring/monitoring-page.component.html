<!-- display license page to edit or show detailed informations -->
<ng-template #monitoringTemplate>

  <div class="qmc-page--content-body">
    <smc-monitoring-process-list></smc-monitoring-process-list>
  </div>

  <div class="qmc-page--content-footer">
    <button class="btn btn-primary" (click)="doRefresh()">
      {{'SMC_MONITORING.ACTIONS.REFRESH' | translate}}
    </button>

    <form class="form-inline">
      <label>
        <input [formControl]="autoRefreshControl" class="form-control" type="checkbox">
        {{'SMC_MONITORING.ACTIONS.AUTO_REFRESH' | translate}}
      </label>
    </form>

    <button class="btn btn-primary" (click)="stopAll()">
      {{'SMC_MONITORING.ACTIONS.STOP_ALL' | translate}}
    </button>
  </div>
</ng-template>

<!-- if installation is invalid display error page -->
<ng-template #errorTemplate>
  <div class="qmc-page--content-body">
    <app-monitoring-error [errors]="errors"></app-monitoring-error>
  </div>
</ng-template>

<div class="qmc-page" *ngIf="ready">
  <div class="qmc-page--content">

    <div class="header qmc-page--content-header">
      <i class="ser-icon ser-icon--streams"></i>
      <span> {{'SMC_MONITORING.TITLE' | translate}} </span>
      <app-process-overview *ngIf="!hasError"></app-process-overview>
    </div>

    <ng-container>
      <ng-container *ngTemplateOutlet="hasError ? errorTemplate : monitoringTemplate">
      </ng-container>
    </ng-container>
  </div>
</div>
